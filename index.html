<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DubNation Health Hub | Warriors Injury Tracker</title>
    <link rel="icon" type="image/svg+xml" href="https://upload.wikimedia.org/wikipedia/en/0/01/Golden_State_Warriors_logo.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <div class="nav-logo-img"></div>
                <span class="nav-brand">DUBNATION HEALTH HUB</span>
            </div>
            
            <!-- Mobile Menu Toggle -->
            <div class="nav-toggle" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="#" class="nav-link active" onclick="showPage('home'); closeMobileMenu();">Home</a></li>
                <li><a href="#" class="nav-link" onclick="showPage('tracker'); closeMobileMenu();">Injury Tracker</a></li>
                <li><a href="#" class="nav-link" onclick="showPage('about'); closeMobileMenu();">About</a></li>
                
                <!-- Sign In Button in mobile menu -->
                <li class="nav-menu-auth">
                    <div id="authNavItemMobile" style="display: block;">
                        <a href="#" class="nav-link nav-cta" onclick="showPage('auth'); closeMobileMenu();">Sign In</a>
                    </div>
                    <div class="profile-dropdown-mobile" id="profileDropdownMobile" style="display: none;">
                        <div class="profile-avatar-mobile" onclick="toggleProfileMenu()">
                            <img id="navProfileAvatarMobile" src="https://api.dicebear.com/7.x/notionists/svg?seed=basketball" alt="Profile">
                            <span id="profileEmailMobile">user@example.com</span>
                        </div>
                        <a href="#" class="nav-link" onclick="showPage('profile'); closeMobileMenu();">Customize Profile</a>
                        <a href="#" class="nav-link" onclick="handleLogout(); closeMobileMenu();">Logout</a>
                    </div>
                </li>
            </ul>
            
            <div class="nav-right">
                <!-- Sign In Button (Desktop) -->
                <div id="authNavItem" style="display: block;"><a href="#" class="nav-link nav-cta" onclick="showPage('auth')">Sign In</a></div>
                
                <!-- Profile Dropdown (Desktop) -->
                <div class="profile-dropdown" id="profileDropdown" style="display: none;">
                    <div class="profile-avatar" onclick="toggleProfileMenu()">
                        <img id="navProfileAvatar" src="https://api.dicebear.com/7.x/notionists/svg?seed=basketball" alt="Profile">
                    </div>
                    <div class="profile-menu" id="profileMenu">
                        <div class="profile-menu-header">
                            <img id="menuProfileAvatar" src="https://api.dicebear.com/7.x/notionists/svg?seed=basketball" alt="Profile">
                            <div>
                                <div class="profile-email" id="profileMenuEmail">user@example.com</div>
                                <div class="profile-label">DubNation Member</div>
                            </div>
                        </div>
                        <div class="profile-menu-divider"></div>
                        <a href="#" class="profile-menu-item" onclick="showPage('profile')">
                            Customize Profile
                        </a>
                        <a href="#" class="profile-menu-item" onclick="handleLogout()">
                            Logout
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="homePage" class="page-container">
        <div class="container">
            <div class="hero-section">
                <div class="warriors-logo-large"></div>
                <h1 class="hero-title">DUBNATION HEALTH HUB</h1>
                <p class="hero-subtitle">Your Ultimate Warriors Injury Tracking System</p>
                <p class="hero-description">Stay updated with real-time injury reports, get instant email notifications, and never miss a beat on your favorite team's health status.</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary btn-large" onclick="showPage('auth')">
                        <span class="btn-icon">üöÄ</span> Get Started
                    </button>
                    <button class="btn btn-outline btn-large" onclick="showPage('tracker')">
                        <span class="btn-icon">üìä</span> View Tracker
                    </button>
                    <button class="btn btn-outline btn-large mobile-about-btn" onclick="showPage('about')">
                        <span class="btn-icon">‚ÑπÔ∏è</span> About
                    </button>
                </div>
            </div>

            <!-- Features Section -->
            <div class="features-section">
                <h2 class="section-title">WHY DUBNATION FANS LOVE US</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">‚ö°</div>
                        <h3>Real-Time Updates</h3>
                        <p>Get instant injury updates every 5 minutes. Stay ahead of the game with the latest player health information.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üìß</div>
                        <h3>Email Notifications</h3>
                        <p>Receive detailed injury reports directly to your inbox. Never miss an important update about your Warriors.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üèÄ</div>
                        <h3>Official Data</h3>
                        <p>Powered by Sportradar's official NBA data. Trust the same source used by professional sports analysts.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîê</div>
                        <h3>Secure & Private</h3>
                        <p>Your data is protected with enterprise-grade security. Sign in safely with Supabase authentication.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üì±</div>
                        <h3>Mobile Friendly</h3>
                        <p>Access injury reports on any device. Optimized for phones, tablets, and desktops.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üèÜ</div>
                        <h3>For True Fans</h3>
                        <p>Built by Warriors fans, for Warriors fans. We understand what DubNation needs to stay informed.</p>
                    </div>
                </div>
            </div>

            <!-- CTA Section -->
            <div class="cta-section">
                <div class="cta-card">
                    <h2>READY TO JOIN DUBNATION?</h2>
                    <p>Get instant access to real-time Warriors injury tracking and email notifications.</p>
                    <button class="btn btn-success btn-large" onclick="showPage('auth')">
                        <span class="btn-icon">‚ú®</span> Create Free Account
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Auth Screen -->
    <div id="authPage" class="page-container hidden">
        <div class="container">
            <div class="logo-container">
                <div class="warriors-logo"></div>
                <div class="logo-text">DUBNATION</div>
                <div class="logo-subtitle">Health Hub</div>
            </div>
            
            <div class="header">
                <h1>üèÜ WARRIORS INJURY TRACKER</h1>
                <p class="subtitle">Real-Time Player Health Monitoring System</p>
            </div>

            <div class="card auth-card">
                <h2>Authentication</h2>
                <div id="authTabs" class="auth-tabs">
                    <button class="auth-tab active" onclick="switchAuthTab('login')">Login</button>
                    <button class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</button>
                </div>

                <!-- Login Form -->
                <div id="loginForm" class="auth-form">
                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <input type="email" id="loginEmail" placeholder="your-email@example.com">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" placeholder="Enter your password">
                    </div>
                    <div class="form-group remember-me">
                        <label class="checkbox-label">
                            <input type="checkbox" id="rememberMe" checked>
                            <span>Remember me</span>
                        </label>
                    </div>
                    <button class="btn btn-primary" onclick="handleLogin()">
                        <span class="btn-icon">üîê</span> Sign In
                    </button>
                </div>

                <!-- Signup Form -->
                <div id="signupForm" class="auth-form hidden">
                    <div class="form-group">
                        <label for="signupEmail">Email</label>
                        <input type="email" id="signupEmail" placeholder="your-email@example.com">
                    </div>
                    <div class="form-group">
                        <label for="signupPassword">Password</label>
                        <input type="password" id="signupPassword" placeholder="Create a password (min 6 characters)">
                    </div>
                    <button class="btn btn-primary" onclick="handleSignup()">
                        <span class="btn-icon">‚ú®</span> Create Account
                    </button>
                </div>
            </div>

            <div id="authStatus" class="status hidden"></div>
        </div>
    </div>

    <!-- Tracker Page (Main App) -->
    <div id="trackerPage" class="page-container hidden">
        <div class="container">
            <div class="logo-container">
                <div class="warriors-logo"></div>
                <div class="logo-text">DUBNATION</div>
                <div class="logo-subtitle">Health Hub</div>
            </div>
            
            <div class="header">
                <h1>üèÜ WARRIORS INJURY TRACKER</h1>
                <p class="subtitle" id="trackerSubtitle">Real-Time Player Health Monitoring</p>
            </div>

            <div id="injuryPreview" class="card">
                <div class="flex-between mb-md">
                    <h2>‚öïÔ∏è INJURY REPORT</h2>
                    <button class="btn btn-small btn-ghost" onclick="fetchInjuries()">
                        <span class="btn-icon">üîÑ</span> Refresh
                    </button>
                </div>
                <div id="injuryContent" class="injury-content"></div>
                <button class="btn btn-success" id="emailBtn" onclick="sendEmail()" style="display: none;">
                    <span class="btn-icon">üìß</span> Email Report to Inbox
                </button>
            </div>

            <div id="status" class="status hidden"></div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profilePage" class="page-container hidden">
        <div class="container">
            <div class="header">
                <h1>CUSTOMIZE YOUR PROFILE</h1>
                <p class="subtitle">Personalize your DubNation experience</p>
            </div>

            <div class="card">
                <h2>üé® Profile Avatar</h2>
                
                <!-- Current Avatar Display -->
                <div class="current-avatar">
                    <h3>Current Avatar</h3>
                    <img id="currentAvatar" class="current-avatar-img" src="https://api.dicebear.com/7.x/notionists/svg?seed=basketball" alt="Current Avatar">
                </div>                <!-- Avatar Selection -->
                <div class="avatar-section">
                    <h3>Choose a Basketball Avatar</h3>
                    <div class="avatar-grid" id="avatarGrid">
                        <!-- Basketball themed avatars -->
                        <div class="avatar-option" onclick="selectAvatar('basketball-1')">
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed=basketball" alt="Avatar 1">
                        </div>
                        <div class="avatar-option" onclick="selectAvatar('basketball-2')">
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed=trophy" alt="Avatar 2">
                        </div>
                        <div class="avatar-option" onclick="selectAvatar('basketball-3')">
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed=warrior" alt="Avatar 3">
                        </div>
                        <div class="avatar-option" onclick="selectAvatar('basketball-4')">
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed=champion" alt="Avatar 4">
                        </div>
                        <div class="avatar-option" onclick="selectAvatar('basketball-5')">
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed=mvp" alt="Avatar 5">
                        </div>
                        <div class="avatar-option" onclick="selectAvatar('basketball-6')">
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed=dubs" alt="Avatar 6">
                        </div>
                        <div class="avatar-option" onclick="selectAvatar('basketball-7')">
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed=splash" alt="Avatar 7">
                        </div>
                        <div class="avatar-option" onclick="selectAvatar('basketball-8')">
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed=dynasty" alt="Avatar 8">
                        </div>
                        <div class="avatar-option" onclick="selectAvatar('basketball-9')">
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed=curry30" alt="Avatar 9">
                        </div>
                        <div class="avatar-option" onclick="selectAvatar('basketball-10')">
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed=gsw" alt="Avatar 10">
                        </div>
                        <div class="avatar-option" onclick="selectAvatar('basketball-11')">
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed=dubnation" alt="Avatar 11">
                        </div>
                        <div class="avatar-option" onclick="selectAvatar('basketball-12')">
                            <img src="https://api.dicebear.com/7.x/notionists/svg?seed=warriors" alt="Avatar 12">
                        </div>
                    </div>
                </div>

                <!-- Upload Custom Avatar -->
                <div class="upload-section">
                    <h3>Or Upload Your Own</h3>
                    <div class="upload-area" onclick="document.getElementById('avatarUpload').click()">
                        <div class="upload-icon">üìÅ</div>
                        <div class="upload-text">Click to upload image</div>
                        <div class="upload-subtext">PNG, JPG up to 2MB</div>
                    </div>
                    <input type="file" id="avatarUpload" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                </div>

                <!-- Profile Info -->
                <div class="profile-info-section">
                    <h3>Profile Information</h3>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="profileEmail" readonly>
                    </div>
                    <div class="form-group">
                        <label>Display Name (Optional)</label>
                        <input type="text" id="displayName" placeholder="Enter your name">
                    </div>
                </div>

                <button class="btn btn-success" onclick="saveProfile()">
                    <span class="btn-icon">üíæ</span> Save Profile
                </button>
            </div>

            <div id="profileStatus" class="status hidden"></div>
        </div>
    </div>

    <!-- About Page -->
    <div id="aboutPage" class="page-container hidden">
        <div class="container">
            <div class="header">
                <h1>ABOUT DUBNATION HEALTH HUB</h1>
                <p class="subtitle">Built by Warriors fans, for Warriors fans</p>
            </div>

            <div class="card">
                <h2>Our Mission</h2>
                <p style="font-size: 1.1rem; line-height: 1.8; color: var(--text-white); margin-bottom: 2rem;">
                    DubNation Health Hub was created to give Golden State Warriors fans instant access to the most up-to-date injury information. We know how important it is to stay informed about your favorite players' health status, especially during crucial games and playoff runs.
                </p>

                <h2>How It Works</h2>
                <div class="about-steps">
                    <div class="about-step">
                        <div class="step-number">1</div>
                        <h3>Create Account</h3>
                        <p>Sign up with your email in seconds. It's completely free and secure.</p>
                    </div>
                    <div class="about-step">
                        <div class="step-number">2</div>
                        <h3>Track Injuries</h3>
                        <p>View real-time injury reports updated every 5 minutes from official NBA sources.</p>
                    </div>
                    <div class="about-step">
                        <div class="step-number">3</div>
                        <h3>Get Notified</h3>
                        <p>Receive detailed injury reports via email whenever you want to stay updated.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <p class="footer-text">
                ¬© 2025 <a href="https://aaravpuri.org" target="_blank" rel="noopener noreferrer" class="footer-link">Aarav Puri</a>. All rights reserved.
            </p>
            <p class="footer-text" style="margin-top: 8px; font-size: 12px; opacity: 0.8;">
                Not affiliated with the Golden State Warriors
            </p>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
